<ion-header>
  <ion-navbar>
    <ion-title>
      {{ investigation.name }}
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-list inset no-lines>
    <ion-item>
      <h2>{{ investigation.data.experimentConfig.labTitle }}</h2>
    </ion-item>
    <ion-item>
      <h5>
        Status: <span *ngIf="connectedDevice?.id">Connected</span> <span *ngIf="!connectedDevice?.id">Not connected</span>
      </h5>

      <h5 *ngIf="connectedDevice?.id">Sensor tag: {{ connectedDevice.id }}</h5>
      <button *ngIf="!connectedDevice?.id" margin-top ion-button color="secondary" full no-margin (click)="openPage(connectPageComponent)">
        Connect to sensor tag
      </button>
    </ion-item>
  </ion-list>

  <ion-list inset no-lines *ngFor="let sensor of sensors">
    <ion-item>
      <h4>{{ sensor.name }} <span pull-right *ngIf="sensor?.value">- {{ sensor.value }}</span></h4>
      <canvas id="{{ sensor.name }}" margin-top></canvas>
    </ion-item>
  </ion-list>

</ion-content>

<ion-footer flex>
  <button ion-button no-margin full no-border-radius *ngIf="!graphsStarted" (click)="startGraphs()">
    Start graphs
  </button>
  <button ion-button no-margin half no-border-radius *ngIf="graphsStarted" color="danger" (click)="stopGraphs()">
    Stop graphs
  </button>

  <button ion-button no-margin half no-border-radius *ngIf="graphsStarted" color="dark" (click)="resetGraphs()">
    Reset graphs
  </button>
</ion-footer>
